<script type="text/javascript">
function preload(){
  sound = loadSound('../assets/fault_line.mp3');
}

function setup(){
  cnv = createCanvas(1450 , 850);
  sound.amp(.3);
  sound.loop();
  fft = new p5.FFT();
  amp = new p5.Amplitude();
  timer = 0;
  botPeak = 0;
  botHighPeak = 0;
  midPeak = 0;
  midHighPeak = 0;
}

function draw(){
  var spectrum = fft.analyze();
  var botFreq = fft.getEnergy(30, 40);
  var botHighFreq = fft.getEnergy(40, 80);
  var midFreq = fft.getEnergy(80, 120);
  var midHighFreq = fft.getEnergy(120, 180);
  //
  // var myVar = setInterval(myTimer, 1000);
  //
  // function myTimer() {
  //     var d = new Date();
  //     document.getElementById("demo").innerHTML = d.toLocaleTimeString();
  // }
  //
  for (var i = 0; i< spectrum.length; i++){

  }

  if (botPeak < botFreq){
      botPeak = botFreq;
      timer++
      // var array = [botPeak, botHighPeak, midPeak, midHighPeak]
      console.log("Bottom Peak");
      console.log(botPeak);
      // console.log(array);
  }

  if (botHighPeak < botHighFreq){
      botHighPeak = botHighFreq;
      timer++
      // var array = [botPeak, botHighPeak, midPeak, midHighPeak]
      console.log("Bottom High Peak");
      console.log(botHighPeak);
      // console.log(array);
  }

  if (midPeak < midFreq){
      midPeak = midFreq;
      // var array = [botPeak, botHighPeak, midPeak, midHighPeak]
      console.log("Mid Peak");
      console.log(midPeak);
      // console.log(array);
  }

  if (midHighPeak < midHighFreq){
      midHighPeak = midHighFreq;
      // var array = [botPeak, botHighPeak, midPeak, midHighPeak]
      console.log("Mid High Peak");
      console.log(midHighPeak);
      // console.log(array);
  }

  endShape();
}

</script>
